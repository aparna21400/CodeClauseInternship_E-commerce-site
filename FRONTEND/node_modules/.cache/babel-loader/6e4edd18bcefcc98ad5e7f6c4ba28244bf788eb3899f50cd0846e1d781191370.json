{"ast":null,"code":"// src/api/auth.js\nimport axios from \"axios\";\nconst API = axios.create({\n  baseURL: \"http://localhost:5000/api\"\n});\n\n// Har request me token bhejne ke liye interceptor\nAPI.interceptors.request.use(config => {\n  const token = localStorage.getItem(\"token\");\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// ⬇️ YAHAN tera code aayega\n\nexport const getProfile = async () => {\n  try {\n    const res = await API.get(\"/auth/profile\");\n    return res.data;\n  } catch (err) {\n    console.error(\"Profile fetch failed:\", err);\n    throw err;\n  }\n};\nexport const addToCartApi = async (productId, size, quantity = 1) => {\n  try {\n    const res = await API.post(\"/cart/add\", {\n      productId,\n      size,\n      quantity\n    });\n    return res.data;\n  } catch (err) {\n    console.error(\"Add to cart failed:\", err);\n    throw err;\n  }\n};","map":{"version":3,"names":["axios","API","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","getProfile","res","get","data","err","console","error","addToCartApi","productId","size","quantity","post"],"sources":["C:/Users/aparn/Desktop/BCA/Minor Project/shopcase/FRONTEND/src/auth.js"],"sourcesContent":["// src/api/auth.js\r\nimport axios from \"axios\";\r\n\r\nconst API = axios.create({\r\n  baseURL: \"http://localhost:5000/api\",\r\n});\r\n\r\n// Har request me token bhejne ke liye interceptor\r\nAPI.interceptors.request.use((config) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\n// ⬇️ YAHAN tera code aayega\r\n\r\nexport const getProfile = async () => {\r\n  try {\r\n    const res = await API.get(\"/auth/profile\");\r\n    return res.data;\r\n  } catch (err) {\r\n    console.error(\"Profile fetch failed:\", err);\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const addToCartApi = async (productId, size, quantity = 1) => {\r\n  try {\r\n    const res = await API.post(\"/cart/add\", {\r\n      productId,\r\n      size,\r\n      quantity,\r\n    });\r\n    return res.data;\r\n  } catch (err) {\r\n    console.error(\"Add to cart failed:\", err);\r\n    throw err;\r\n  }\r\n};\r\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAE;AACX,CAAC,CAAC;;AAEF;AACAF,GAAG,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EACvC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACTD,MAAM,CAACI,OAAO,CAACC,aAAa,GAAG,UAAUJ,KAAK,EAAE;EAClD;EACA,OAAOD,MAAM;AACf,CAAC,CAAC;;AAEF;;AAEA,OAAO,MAAMM,UAAU,GAAG,MAAAA,CAAA,KAAY;EACpC,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMb,GAAG,CAACc,GAAG,CAAC,eAAe,CAAC;IAC1C,OAAOD,GAAG,CAACE,IAAI;EACjB,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEF,GAAG,CAAC;IAC3C,MAAMA,GAAG;EACX;AACF,CAAC;AAED,OAAO,MAAMG,YAAY,GAAG,MAAAA,CAAOC,SAAS,EAAEC,IAAI,EAAEC,QAAQ,GAAG,CAAC,KAAK;EACnE,IAAI;IACF,MAAMT,GAAG,GAAG,MAAMb,GAAG,CAACuB,IAAI,CAAC,WAAW,EAAE;MACtCH,SAAS;MACTC,IAAI;MACJC;IACF,CAAC,CAAC;IACF,OAAOT,GAAG,CAACE,IAAI;EACjB,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,qBAAqB,EAAEF,GAAG,CAAC;IACzC,MAAMA,GAAG;EACX;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}